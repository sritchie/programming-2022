<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Lisp as Renaissance Workshop</title>
    <meta name="author" content="Sam Ritchie" />
    <style type="text/css">
      .underline {
        text-decoration: underline;
      }
    </style>
    <link rel="stylesheet" href="../reveal.js/dist/reveal.css" />

    <link
      rel="stylesheet"
      href="../reveal.js/dist/theme/solarized.css"
      id="theme"
    />
    <link rel="stylesheet" href="../reveal.js/plugin/highlight/zenburn.css" />
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <section id="slide-orgd786f8a">
            <h2 id="orgd786f8a">Lisp as Renaissance Workshop</h2>
            <aside class="notes">
              <p>Hi, I'm Sam!</p>

              <p>Going to talk about sicmutils.</p>
            </aside>

            <p>A Lispy Tour through Mathematical Physics</p>

            <p>
              <a href="https://samritchie.io/">Sam Ritchie</a>, Mentat
              Collective
            </p>
          </section>
        </section>
        <section>
          <section id="slide-orgdf756ea">
            <h2 id="orgdf756ea">SICMUtils</h2>
            <aside class="notes">
              <ul>
                <li>talk is about this library I've been working on&#x2026;</li>
                <li>Clojure, CAS, many environments, these slides, for one</li>
              </ul>
            </aside>
          </section>
          <section>
            <div class="org-src-container">
              <pre><code class="clojure" >[(+ (sin 'x) 'x) (+ (sin 12) 2)]
</code></pre>
            </div>

            <pre class="example">
[(+ (sin x) x) 1.4634270819995652]

</pre
            >

            <div class="org-src-container">
              <pre><code class="clojure" >(tex$$
 (up (square (cos (* 't 'phi)))
     (floor (* 4 'zeta))))
</code></pre>
            </div>

            <p>
              \[\begin{pmatrix}\displaystyle{{\cos}^{2}\left(\phi\,t\right)} \cr
              \cr \displaystyle{\left\lfloor 4\,\zeta
              \right\rfloor}\end{pmatrix}\]
            </p>
          </section>
          <section>
            <div class="org-src-container">
              <pre><code class="clojure" >(let [f (literal-function 'f (-&gt; (UP Real Real) Real))]
  (tex$$
   ((D f) (up 'alpha_1 'alpha_2))))
</code></pre>
            </div>

            <p>
              \[\begin{bmatrix}\displaystyle{\partial_0f\left(\begin{pmatrix}\displaystyle{{\alpha}_1}
              \cr \cr \displaystyle{{\alpha}_2}\end{pmatrix}\right)} \cr \cr
              \displaystyle{\partial_1f\left(\begin{pmatrix}\displaystyle{{\alpha}_1}
              \cr \cr
              \displaystyle{{\alpha}_2}\end{pmatrix}\right)}\end{bmatrix}\]
            </p>
          </section>
          <section id="slide-org5db957b">
            <h3 id="org5db957b">❤️ Open Source ❤️</h3>
            <p>
              <a href="https://github.com/sicmutils/sicmutils"
                >https://github.com/sicmutils/sicmutils</a
              >
            </p>
            <img width="100%" src="../images/sicmutils.png" />
          </section>
        </section>
        <section>
          <section id="slide-org43a988c">
            <h2 id="org43a988c">Agenda</h2>
            <aside class="notes">
              <p>
                And this idea that CODE can be a fantastic medium for
                communication. There is so much promise:
              </p>

              <p>
                Code is a medium to communicate. But it’s also a medium we use
                to <i>build</i>
                systems.
              </p>

              <p>
                To the extent that the system is self-describing, it also
                performs itself. So there is huge promise for the idea of code
                as communication, and lots of champions!
              </p>

              <p>
                But no one really does it. Not much serious publication work as
                literate files.
              </p>

              <p>WHY, what's missing?</p>
            </aside>

            <ul>
              <li>Why build another CAS?</li>
              <li>Code as Communication?</li>
              <li>Literate Systems (and their problems)</li>
              <li>Why it matters</li>
              <li>What to do?</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-orgd6254ee">
            <h2 id="orgd6254ee">scmutils by GJS</h2>
            <aside class="notes">
              <ul>
                <li>Based on scmutils by GJS</li>
                <li>co-creator of Scheme&#x2026;</li>
                <li>SICP</li>
              </ul>
            </aside>

            <img class="r-stretch" src="../images/gjs.jpg" />
          </section>
          <section>
            <p>
              "<b>programs must be written for people to read</b>, and only
              incidentally for machines to execute."
            </p>

            <small
              >~ Hal Abelson, Structure and Interpretation of Computer
              Programs</small
            >
            <br /><img height="300px" src="../images/sicp.jpeg" />
          </section>
        </section>
        <section>
          <section id="slide-orgbc239df">
            <h2 id="orgbc239df">SICM and FDG</h2>
            <aside class="notes">
              <p>Followed up SICP with SICM and FDG.</p>

              <p>and he's been building this amazing system ever since.</p>
            </aside>

            <img height="500" src="../images/sicm.jpeg" />
            <img height="500" src="../images/fdg.jpeg" />
          </section>
        </section>
        <section>
          <section id="slide-org4a8c180">
            <h2 id="org4a8c180">Motivation? Google X etc</h2>
            <aside class="notes">
              <p>So I thought I'd port it to a browser-environment.</p>

              <p>
                Really fired up on Bret Victor's work, explorable explanations;
                kill the PDF!
              </p>

              <p>reading all these RL research papers..</p>
            </aside>
          </section>
          <section id="slide-org28dd82f">
            <h3 id="org28dd82f">Disappointment!</h3>
            <aside class="notes">
              <p>
                Then we get to the Google gig. We have this
                <span class="underline"
                  ><span class="underline">rot</span></span
                >
                going on, where
                <span class="underline"
                  ><span class="underline">tools for thought</span></span
                >
                is championed outside the world — often by people that are very
                idealistic and thing that this is the way things
                <span class="underline"
                  ><span class="underline">should work</span></span
                >
                — inherently gifty, Gift Economy like.
              </p>

              <p>
                But then the folks using the tools despise the tools. And the
                toolmakers get heat for not using them, because it’s so tough.
                Rare exceptions.
              </p>

              <p>
                Thrashing around with python and build systems&#x2026; that is
                NOT what folks finding the deep principles behind QM were doing,
                there is no way it is going to lead to discoveries here.
              </p>

              <p>
                No one uses any analogue of lab notebook. Best is snippets
                pasted into Google Chat.
              </p>
            </aside>
          </section>
        </section>
        <section>
          <section id="slide-orge49635e">
            <h2 id="orge49635e">19th Century Scientific Communication</h2>
            <aside class="notes">
              <p>It didn't used to be this way!</p>

              <p>
                It's important that these ideas are in the air, that we're proud
                of them as ideas we can take and <i>use</i>, not just&#x2026;
                oh, tech vibes.
              </p>
            </aside>
          </section>
          <section id="slide-org7b8b8e5">
            <h3 id="org7b8b8e5">History of Vector Analysis</h3>
            <aside class="notes">
              <p>
                Quaternions, Clifford algebra, the battle for representations,
              </p>

              <p>Different than programming language battles, I think.</p>
            </aside>

            <img class="r-stretch" src="../images/vector_analysis.jpeg" />
          </section>
          <section>
            <aside class="notes">
              <p>Reminded me of</p>
            </aside>
            <img class="r-stretch" src="../images/lisp_xkcd.jpeg" />
          </section>
        </section>
        <section>
          <section id="slide-org900a379">
            <h2 id="org900a379">Code as Communication</h2>
            <aside class="notes">
              <p>
                Code is a medium to communicate. But it’s also a medium we use
                to <i>build</i>
                systems.
              </p>

              <p>
                To the extent that the system is self-describing, it also
                performs itself.
              </p>

              <p>So code should have carried on this legacy, right?</p>
            </aside>
          </section>
        </section>
        <section>
          <section id="slide-org3f20739">
            <h2 id="org3f20739">Numerical Code as Communication?</h2>
            <aside class="notes">
              <p>
                I did a deep dive into numerical methods and here is what I've
                found.
              </p>

              <p>
                I'm going to pick on this one function but scipy is all like
                this.
              </p>

              <p>example: Brent's algo for univariate minimization.</p>
            </aside>

            <p>
              "We personally like Brent's algorithm for univariate minimization,
              as found on pages 79-80 of his book 'Algorithms for Minimization
              Without Derivatives'. It is pretty reliable and pretty fast,
              <b>but we cannot explain how it works</b>."
            </p>

            <p>~ scmutils, <i>refman.txt</i></p>
          </section>
          <section id="slide-org6990951">
            <h3 id="org6990951">Brent's Book, 1973</h3>
            <aside class="notes">
              <p>
                Back to the
                <a href="https://maths-people.anu.edu.au/~brent/pub/pub011.html"
                  >original book</a
                >
                from 1973: "Algorithms for Minimization without Derivatives".
              </p>
            </aside>
            <img class="r-stretch" src="../images/brent.jpg" />
          </section>
          <section id="slide-orgbf2f30e">
            <h3 id="orgbf2f30e">FORTRAN: Numerical Recipes, 1986</h3>
            <aside class="notes">
              <p>
                1986!
                <a href="http://phys.uri.edu/nigh/NumRec/bookfpdf/f10-2.pdf"
                  >Numerical Recipes</a
                >, pretty good&#x2026; basically a port.
              </p>
            </aside>
            <img class="r-stretch" src="../images/numerical_recipes.jpg" />
          </section>
          <section id="slide-org8bfc9b0">
            <h3 id="org8bfc9b0">C++: Boost, 2006</h3>
            <aside class="notes">
              <p>Then Boost, C++, comes later, used now:</p>

              <p>what's the golden ratio doing in here?</p>
            </aside>

            <div class="org-src-container">
              <pre><code class="cpp" data-line-numbers="18|37-41|47-52|56-60|90-98">template &lt;class F, class T&gt;
std::pair&lt;T, T&gt; brent_find_minima(F f, T min, T max, int bits, std::uintmax_t&amp; max_iter)
   noexcept(BOOST_MATH_IS_FLOAT(T) &amp;&amp; noexcept(std::declval&lt;F&gt;()(std::declval&lt;T&gt;())))
{
   BOOST_MATH_STD_USING
   bits = (std::min)(policies::digits&lt;T, policies::policy&lt;&gt; &gt;() / 2, bits);
   T tolerance = static_cast&lt;T&gt;(ldexp(1.0, 1-bits));
   T x;  // minima so far
   T w;  // second best point
   T v;  // previous value of w
   T u;  // most recent evaluation point
   T delta;  // The distance moved in the last step
   T delta2; // The distance moved in the step before last
   T fu, fv, fw, fx;  // function evaluations at u, v, w, x
   T mid; // midpoint of min and max
   T fract1, fract2;  // minimal relative movement in x

   static const T golden = 0.3819660f;  // golden ratio, don't need too much precision here!

   x = w = v = max;
   fw = fv = fx = f(x);
   delta2 = delta = 0;

   uintmax_t count = max_iter;

   do{
      // get midpoint
      mid = (min + max) / 2;
      // work out if we're done already:
      fract1 = tolerance * fabs(x) + tolerance / 4;
      fract2 = 2 * fract1;
      if(fabs(x - mid) &lt;= (fract2 - (max - min) / 2))
         break;

      if(fabs(delta2) &gt; fract1)
      {
         // try and construct a parabolic fit:
         T r = (x - w) * (fx - fv);
         T q = (x - v) * (fx - fw);
         T p = (x - v) * q - (x - w) * r;
         q = 2 * (q - r);
         if(q &gt; 0)
            p = -p;
         q = fabs(q);
         T td = delta2;
         delta2 = delta;
         // determine whether a parabolic step is acceptable or not:
         if((fabs(p) &gt;= fabs(q * td / 2)) || (p &lt;= q * (min - x)) || (p &gt;= q * (max - x)))
         {
            // nope, try golden section instead
            delta2 = (x &gt;= mid) ? min - x : max - x;
            delta = golden * delta2;
         }
         else
         {
            // whew, parabolic fit:
            delta = p / q;
            u = x + delta;
            if(((u - min) &lt; fract2) || ((max- u) &lt; fract2))
               delta = (mid - x) &lt; 0 ? (T)-fabs(fract1) : (T)fabs(fract1);
         }
      }
      else
      {
         // golden section:
         delta2 = (x &gt;= mid) ? min - x : max - x;
         delta = golden * delta2;
      }
      // update current position:
      u = (fabs(delta) &gt;= fract1) ? T(x + delta) : (delta &gt; 0 ? T(x + fabs(fract1)) : T(x - fabs(fract1)));
      fu = f(u);
      if(fu &lt;= fx)
      {
         // good new point is an improvement!
         // update brackets:
         if(u &gt;= x)
            min = x;
         else
            max = x;
         // update control points:
         v = w;
         w = x;
         x = u;
         fv = fw;
         fw = fx;
         fx = fu;
      }
      else
      {
         // Oh dear, point u is worse than what we have already,
         // even so it *must* be better than one of our endpoints:
         if(u &lt; x)
            min = u;
         else
            max = u;
         if((fu &lt;= fw) || (w == x))
         {
            // however it is at least second best:
            v = w;
            w = u;
            fv = fw;
            fw = fu;
         }
         else if((fu &lt;= fv) || (v == x) || (v == w))
         {
            // third best:
            v = u;
            fv = fu;
         }
      }

   }while(--count);

   max_iter -= count;

   return std::make_pair(x, fx);
}
</code></pre>
            </div>
          </section>
          <section id="slide-org8adf754">
            <h3 id="org8adf754">Python: Scipy, 2001</h3>
            <aside class="notes">
              <p>don't use this, whitespace off</p>

              <p>
                2001? here’s the python version of Brent
                <a
                  href="https://github.com/scipy/scipy/blob/v1.5.4/scipy/optimize/optimize.py#L2078"
                  >https://github.com/scipy/scipy/blob/v1.5.4/scipy/optimize/optimize.py#L2078</a
                >
              </p>

              <p>And probably delete some of the previous&#x2026;</p>
            </aside>

            <div class="org-src-container">
              <pre><code class="python" data-line-numbers="31-42">def optimize(self):
  # set up for optimization
  func = self.func
  xa, xb, xc, fa, fb, fc, funcalls = self.get_bracket_info()
  _mintol = self._mintol
  _cg = self._cg
  #################################
  #BEGIN CORE ALGORITHM
  #################################
  x = w = v = xb
  fw = fv = fx = func(*((x,) + self.args))
  if (xa &lt; xc):
    a = xa
    b = xc
  else:
    a = xc
    b = xa
    deltax = 0.0
    funcalls += 1
    iter = 0
  while (iter &lt; self.maxiter):
    tol1 = self.tol * np.abs(x) + _mintol
    tol2 = 2.0 * tol1
    xmid = 0.5 * (a + b)
    # check for convergence
    if np.abs(x - xmid) &lt; (tol2 - 0.5 * (b - a)):
      break
    # XXX In the first iteration, rat is only bound in the true case
    # of this conditional. This used to cause an UnboundLocalError
    # (gh-4140). It should be set before the if (but to what?).
    if (np.abs(deltax) &lt;= tol1):
      if (x &gt;= xmid):
        deltax = a - x       # do a golden section step
      else:
        deltax = b - x
        rat = _cg * deltax
    else:                              # do a parabolic step
      tmp1 = (x - w) * (fx - fv)
      tmp2 = (x - v) * (fx - fw)
      p = (x - v) * tmp2 - (x - w) * tmp1
      tmp2 = 2.0 * (tmp2 - tmp1)
      if (tmp2 &gt; 0.0):
        p = -p
        tmp2 = np.abs(tmp2)
        dx_temp = deltax
        deltax = rat
        # check parabolic fit
        if ((p &gt; tmp2 * (a - x)) and (p &lt; tmp2 * (b - x)) and
            (np.abs(p) &lt; np.abs(0.5 * tmp2 * dx_temp))):
          rat = p * 1.0 / tmp2        # if parabolic step is useful.
          u = x + rat
          if ((u - a) &lt; tol2 or (b - u) &lt; tol2):
            if xmid - x &gt;= 0:
              rat = tol1
            else:
              rat = -tol1
          else:
            if (x &gt;= xmid):
              deltax = a - x  # if it's not do a golden section step
            else:
              deltax = b - x
              rat = _cg * deltax

      if (np.abs(rat) &lt; tol1):            # update by at least tol1
        if rat &gt;= 0:
          u = x + tol1
        else:
          u = x - tol1
      else:
        u = x + rat
        fu = func(*((u,) + self.args))      # calculate new output value
        funcalls += 1

        if (fu &gt; fx):                 # if it's bigger than current
          if (u &lt; x):
            a = u
          else:
            b = u
          if (fu &lt;= fw) or (w == x):
            v = w
            w = u
            fv = fw
            fw = fu
          elif (fu &lt;= fv) or (v == x) or (v == w):
            v = u
            fv = fu
          else:
            if (u &gt;= x):
              a = x
            else:
              b = x
          v = w
          w = x
          x = u
          fv = fw
          fw = fx
          fx = fu

          iter += 1
 #################################
        #END CORE ALGORITHM
        #################################

        self.xmin = x
        self.fval = fx
        self.iter = iter
        self.funcalls = funcalls
</code></pre>
            </div>
          </section>
          <section id="slide-org704208d">
            <h3 id="org704208d">Scheme: 1987</h3>
            <aside class="notes">
              <p>Scheme? NOOO</p>

              <p>Mine is better.</p>
            </aside>

            <div class="org-src-container">
              <pre><code class="scheme" data-line-numbers="32-43">;;; Brent's algorithm for univariate minimization -- transcribed from
;;; pages 79-80 of his book "Algorithms for Minimization Without Derivatives"

(define (brent-min f a b eps)
  (let ((a (min a b)) (b (max a b))
	(maxcount 100)
	(small-bugger-factor *sqrt-machine-epsilon*)
	(g (/ (- 3 (sqrt 5)) 2))
	(d 0) (e 0) (old-e 0) (p 0) (q 0) (u 0) (fu 0))
    (let* ((x (+ a (* g (- b a))))
	   (fx (f x))
	   (w x) (fw fx) (v x) (fv fx))
      (let loop ((count 0))
	(if (&gt; count maxcount)
	    (list 'maxcount x fx count) ;failed to converge
	    (let* ((tol (+ (* eps (abs x)) small-bugger-factor))
		   (2tol (* 2 tol))
		   (m (/ (+ a b) 2)))
	      ;; test for convergence
	      (if (&lt; (max (- x a) (- b x)) 2tol)
		  (list x fx count)
		  (begin
		    (if (&gt; (abs e) tol)
			(let* ((t1 (* (- x w) (- fx fv)))
			       (t2 (* (- x v) (- fx fw)))
			       (t3 (- (* (- x v) t2) (* (- x w) t1)))
			       (t4 (* 2 (- t2 t1))))
			  (set! p (if (positive? t4) (- t3) t3))
			  (set! q (abs t4))
			  (set! old-e e)
			  (set! e d)))
		    (if (and (&lt; (abs p) (abs (* 0.5 q old-e)))
			     (&gt; p (* q (- a x)))
			     (&lt; p (* q (- b x))))
			;; parabolic step
			(begin (set! d (/ p q))
			       (set! u (+ x d))
			       (if (&lt; (min (- u a) (- b u)) 2tol)
				   (set! d (if (&lt; x m) tol (- tol)))))
			;;else, golden section step
			(begin (set! e (if (&lt; x m) (- b x) (- a x)))
			       (set! d (* g e))))
		    (set! u (+ x (if (&gt; (abs d) tol)
				     d
				     (if (positive? d) tol (- tol)))))
		    (set! fu (f u))
		    (if (&lt;= fu fx)
			(begin (if (&lt; u x) (set! b x) (set! a x))
			       (set! v w) (set! fv fw)
			       (set! w x) (set! fw fx)
			       (set! x u) (set! fx fu))
			(begin (if (&lt; u x) (set! a u) (set! b u))
			       (if (or (&lt;= fu fw) (= w x))
				   (begin (set! v w) (set! fv fw)
					  (set! w u) (set! fw fu))
				   (if (or (&lt;= fu fv) (= v x) (= v w))
				       (begin (set! v u) (set! fv fu))))))
		    (loop (+ count 1))))))))))
</code></pre>
            </div>
          </section>
          <section id="slide-org5ffa57e">
            <h3 id="org5ffa57e">Actual Algorithm</h3>
            <aside class="notes">
              <p>This is it&#x2026;</p>

              <p>
                But this image isn't tied to the code! There have been systems
                to do that&#x2026; and the picture is slightly wrong. you really
                want to watch it proceed.
              </p>

              <p>MEME from Clean Code&#x2026;</p>
            </aside>

            <img class="r-stretch" src="../images/brent_parabola.png" />
          </section>
          <section id="slide-org668e909">
            <h3 id="org668e909">So What?</h3>
            <aside class="notes">
              <p>
                Because these methods are conceptually not that tough, and this
                is an improvement on another conceptually easy method. Lots of
                these are visually very easy!
              </p>
            </aside>

            <p>How can we do better?</p>
          </section>
        </section>
        <section>
          <section id="slide-org4e950c2">
            <h2 id="org4e950c2">Existing Work</h2>
          </section>
          <section data-background="../images/knuth_literate.jpeg">
            <aside class="notes">
              <p>PICK UP HERE:</p>

              <ul>
                <li>what are the other efforts?</li>
              </ul>
              <p>Literate programming, of course</p>
            </aside>
          </section>
          <section id="slide-orgb41b382">
            <h3 id="orgb41b382">LOGO</h3>
            <aside class="notes">
              <p>Microworlds!</p>
            </aside>

            <img class="r-stretch" src="../images/papert.jpeg" />
          </section>
          <section>
            <img class="r-stretch" src="../images/turtle_geometry.jpeg" />
          </section>
          <section id="slide-org97610eb">
            <h3 id="org97610eb">Mathematica, Notebooks</h3>
            <aside class="notes">
              <p>Mention notebooks here too</p>
            </aside>

            <img width="300" src="../images/mm_notebook.jpg" />
            <img width="300" src="../images/mathematica.svg" />
          </section>
        </section>
        <section>
          <section id="slide-org84b1e5d">
            <h2 id="org84b1e5d">Why aren't these working?</h2>
            <aside class="notes">
              <p>I am a total sucker for this stuff! But even I don't do it.</p>

              <p>If all this is software great, what are we doing?</p>
            </aside>

            <ul>
              <li class="fragment grow">Literate Programming == one-way</li>
              <li class="fragment grow">Real Science is Multiplayer</li>
              <li class="fragment grow">Dynamic is Too Seductive</li>
              <li class="fragment grow">Real Work doesn't happen here</li>
            </ul>
          </section>
          <section id="slide-org068f622">
            <h3 id="org068f622">Literate Programming == one way</h3>
            <aside class="notes">
              <p>
                The problem with Literate Programming is that you really want a
                culture of literate programming, so that you can build on all of
                this stuff together. I’m imagining something like the AI memos,
                or email but where everyone is reading in emacs and you can just
                fire code around, save it etc. Before all of this version
                control nonsense.
              </p>

              <p>
                ALSO: as a reader, I can't participate in the cultural thing
                that created the document!
              </p>

              <p>
                This is also the problem with notebooks. They are often so
                dependent on the user's local environment&#x2026; I read the
                thing but it was not designed to be shared. Yes, I know about
                Docker etc&#x2026;
              </p>

              <p>
                SO — and this is personal for me — I want to bring more of the
                teaching and explaining back into real software, into things you
                can use for real work in a lab.
              </p>
            </aside>
          </section>
          <section id="slide-org1800dae">
            <h3 id="org1800dae">Real Science is Multiplayer</h3>
            <aside class="notes">
              <p>
                Science is not just about communication. The progression of
                science has been inherently multiplayer; so the
                <span class="underline"
                  ><span class="underline">nice</span></span
                >
                thing about the PDF is you can print it out and sit in your
                chair and puzzle over what you’re seeing. And then make notes in
                the margins that potentially lead to the next brick in the wall.
              </p>

              <p>
                A WEAKNESS with existing stuff is that it’s all geared toward
                presentations. 3b1b style, for example. Brilliant! But it’s a
                presentation. It’s not a "viewer" where I can check out my own
                transformations, play, etc etc
              </p>
            </aside>
          </section>
          <section id="slide-org40aaeb6">
            <h3 id="org40aaeb6">Dynamic == Too Seductive</h3>
            <aside class="notes">
              <p>
                It is too seductive, people just want the code to
                <span class="underline"
                  ><span class="underline">work</span></span
                >: but the alternative is what, thrashing around with python
                code?
              </p>

              <p>
                Something odd happens when the machine is involved. We GLEEFULLY
                abstain from ironing out and understanding it all, because the
                machine can perform the thing! Maybe that is like some old-timer
                in the lab who can work the fridge. But then we lose the
                knowledge.
              </p>
            </aside>
          </section>
          <section id="slide-orgd44671f">
            <h3 id="orgd44671f">
              People are not doing "real work" in these systems
            </h3>
            <aside class="notes">
              <p>
                Same with LOGO, with Notebooks. you have to bail out at some
                point.
              </p>
            </aside>
          </section>
        </section>
        <section>
          <section id="slide-org33947b6">
            <h2 id="org33947b6">Why care?</h2>
            <aside class="notes">
              <p>These are the crown jewels of our society!</p>

              <p>
                We have many problems left that this computational fluid seems
                quite useful for.
              </p>

              <p>
                not to mention that this is a beautiful THING we have figured
                out how to do, this sense that abstraction is all around. If it
                is true of the universe where we’re living, music, art, wow,
                better practice.
              </p>

              <p>
                The ability to do long term projects depends on the transmission
                of culture over long distances and times. With our current
                stuff, the harder the material gets, the more specialized the
                field gets, the more impressionistic the notation gets.
              </p>

              <p>
                How does the way out of the climate crisis, issues like that not
                depend on developing a deep intuition around control systems,
                physical models, physical simulations and nonlinear feedback?
              </p>
            </aside>
          </section>
          <section id="slide-org3b92121">
            <h3 id="org3b92121">"Future of Education"</h3>
            <aside class="notes">
              <ul>
                <li class="off">
                  <code>[&#xa0;]</code>
                  <p>fill in this picture and quote</p>

                  <p>
                    We're all quite good at this abstraction thing, but that's
                    not normal!
                  </p>
                </li>
              </ul>
            </aside>

            <ul>
              <li>Mythic Understanding</li>
              <li>Romantic Understanding</li>
              <li><b>Philosophic Understanding</b></li>
              <li>Ironic Understanding</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-org31b54dc">
            <h2 id="org31b54dc">What to do?</h2>
            <aside class="notes">nil</aside>
          </section>
          <section id="slide-orgd4debef">
            <h3 id="orgd4debef">SICM and FDG as clues</h3>
            <aside class="notes">
              <p>
                these books had actually paved the way! And THAT is the culture
                I want to soak up! The hard narrative work is done, for these
                particular stories.
              </p>

              <p>Browser based, Clojure, Lisp, build on sicm</p>
            </aside>

            <img height="500" src="../images/sicm.jpeg" />
            <img height="500" src="../images/fdg.jpeg" />
          </section>
          <section data-background="../images/nurse_log.jpeg">
            <aside class="notes">
              <p>Textbook as Nurse Log</p>

              <p>
                Physics and the Book: The Road to Reality. The textbook sort of
                is a starter pack. It’s a library already, it’s a nurse tree. It
                purports to tell you everything! And in principle it’s all
                computable and full of abstraction goodies.
              </p>

              <p>And THAT is the culture I want to soak up!</p>

              <ul>
                <li>
                  We have this grand human tale, over thousands of years, of
                  figuring out how the world works. Of how to model reality.
                </li>
              </ul>

              <p>
                The library that lives in all of these environments, and is
                fissionable and extensible.
              </p>

              <p>
                The idea being that the textbook is explicitly about the
                subject; but actually a model of exposition, of scientific
                communication.
              </p>

              <p>
                And the
                <span class="underline"
                  ><span class="underline">exercises</span></span
                >
                are an invitation to publish your own original thoughts, to
                participate in the discovery process yourself. But often with no
                way to practice the publication part. (The discovery has already
                happened, so why are we only practicing getting the answer? The
                goal is to
                <span class="underline"
                  ><span class="underline">share</span></span
                >
                it in a way that ignores someone else.)
              </p>

              <p>And the PIECES the library kicks out are usable elsewhere.</p>
            </aside>
          </section>
          <section id="slide-org06de01a">
            <h3 id="org06de01a">Explanation as Side Effect</h3>
            <aside class="notes">
              <p>Zettelkasten. Then you go tidy it up for someone else.</p>

              <p>
                The dream environment is one where just playing in public leaves
                a record of what you did, and is shareable. See Zettelkasten for
                notes on what to do here. That was the beauty of the Roam
                promise.
              </p>
            </aside>
          </section>
        </section>
        <section>
          <section id="slide-org24e404b">
            <h2 id="org24e404b">Euler-Lagrange Equations</h2>
            <aside class="notes">
              <p>
                This is a good section to talk about the Sussman pitch on Code
                as Comms.
              </p>

              <p>Go from:</p>

              <ul>
                <li>Lagrange equations, let's say WHAT WE MEAN</li>
                <li>the expanded version</li>
                <li>the clojure code</li>
                <li>the animation</li>
              </ul>

              <p>
                This has pretty crappy flow now but I think this section is a
                pretty important one, to talk about what it MEANS to say that
                code can communicate.
              </p>

              <p>
                BY THE WAY, the way you derive this is just bananas, such a
                great way to THINK.
              </p>

              <ul>
                <li class="off">
                  <code>[&#xa0;]</code> so add a slide about the integral T-V vs
                  where you get&#x2026;
                </li>
              </ul>

              <p>
                you'll find you might get sleepy for a few slides; but I will
                own it by saying that is kind of the point!
              </p>

              <p>
                What is interesting here is this fundamentally amazing,
                beautiful observation. What is less interesting is the
                symbol-pushing and accounting <i>after</i> you've realized.
              </p>
            </aside>

            <p>\[S[q](t_a, t_b) = D \int_{t_a}^{t_b} L(t, q(t), Dq(t)) dt\]</p>

            <p>\[D \int_{t_a}^{t_b} L(t, q(t), Dq(t)) dt = 0\]</p>
          </section>
          <section>
            <p data-fragment-index="2" class="fragment roll-in">
              "What could this expression possibly mean?"
            </p>

            <p>
              \[{\frac{d}{d t} \frac{\partial L}{\partial
              \dot{q}}}-\frac{\partial L}{\partial q}=0\]
            </p>
          </section>
          <section id="slide-org80592a6">
            <h3 id="org80592a6">Expand:</h3>
            <p>
              \[{\frac{d}{d t} \frac{\partial L}{\partial
              \dot{q}}}-\frac{\partial L}{\partial q}=0\]
            </p>

            <p class="fragment roll-in">
              \[\frac{d}{d t}\left( \left.\frac{\partial L(t, q,
              \dot{q})}{\partial \dot{q}} \right|_{\substack{ {q=w(t)} \\
              {\dot{q}=\frac{d w(t)}{d t}} }} \right)-\left.\frac{\partial L(t,
              q, \dot{q})}{\partial q}\right|_{ \substack{ q=w(t) \\
              {\dot{q}=\frac{d w(t)}{d t}}} }=0\]
            </p>
          </section>
          <section id="slide-org445f349">
            <h3 id="org445f349">Okay, Fine</h3>
            <aside class="notes">
              <p>
                This system lets you write more explicit computational physics.
              </p>

              <p>Development now of the better notation.</p>

              <p>Describe "expression derivatives" vs function derivatives.</p>

              <p>Culture example:</p>

              <p>
                A PROBLEM here is that these cultures are fairly insular now,
                because they are so well developed. So much of the communication
                occurs in this <i>shorthand</i>.
              </p>

              <p>There is so much <i>culture</i>.</p>
            </aside>

            <p>
              \[{\frac{d}{d t} \frac{\partial L}{\partial
              \dot{q}}}-\frac{\partial L}{\partial q}=0\]
            </p>

            <div>
              \begin{align*} \frac{d}{d t} \left( \right. & \left.
              \left(\partial_{2} L\right)\left(t, w(t), \frac{d}{d t}
              w(t)\right)\right) \\ - & \left(\partial_{1} L\right)\left(t,
              w(t), \frac{d}{d t} w(t)\right) = 0 \end{align*}
            </div>
          </section>
          <section id="slide-orgb667355">
            <h3 id="orgb667355">Substitutions</h3>
            <aside class="notes">
              <p>
                So let’s get rid of the expression derivative \(d/dt\) and
                replace it with an appropriate functional derivative. If \(f\)
                is a function then we will write \(Df\) as the new function that
                is the derivative of \(f\)
              </p>

              <p>
                To do this for the Lagrange equation we need to construct a
                function to take the derivative of.
              </p>

              <p>our friend Gamma&#x2026;</p>
            </aside>

            <p>\[(D f)(t)=\left.\frac{d}{d x} f(x)\right|_{x=t}\]</p>

            <p>\[\Gamma[w](t)=\left(t, w(t), \frac{d}{d t} w(t)\right)\]</p>
          </section>
          <section>
            <aside class="notes">
              <p>
                That lets us simplify a bit more. Finally, let's get the
                explicit <code>t</code> out of there. then, program
              </p>
            </aside>

            <p>
              \[\frac{d}{dt}\left( \left(\partial_{2} L\right)
              \left(\Gamma[w](t)\right) \right) - \left(\partial_{1} L\right)
              \left(\Gamma[w](t)\right)=0\]
            </p>

            <p data-fragment-index="2" class="fragment roll-in">
              \[D\left(\left(\partial_{2} L\right) \circ
              \left(\Gamma[w]\right)\right) \\ -\left(\partial_{1} L\right)
              \circ \left(\Gamma[w]\right)=0\]
            </p>

            <div class="org-src-container">
              <pre
                data-fragment-index="3"
                class="fragment roll-in"
              ><code class="clojure" data-line-numbers="1|2-4|3|4">(defn Lagrange-equations [L]
  (fn [w]
    (- (D (comp ((partial 2) L) (Gamma w)))
       (comp ((partial 1) L) (Gamma w)))))
</code></pre>
            </div>
          </section>
          <section>
            <aside class="notes">
              <p>
                You can look at the general form&#x2026; but the POINT is that
                it's confusing!!!
              </p>
            </aside>

            <div class="org-src-container">
              <pre><code class="clojure" >(let [L (- (comp (literal-function 'T) velocity)
           (comp (literal-function 'V) coordinate))
      w (literal-function 'w)]
  (tex$$
   (((Lagrange-equations L) w) 't)))
</code></pre>
            </div>

            <p>
              \[{D}^{2}w\left(t\right)\,{D}^{2}T\left(Dw\left(t\right)\right) +
              DV\left(w\left(t\right)\right)\]
            </p>
          </section>
          <section>
            <aside class="notes">
              <p>Specific example:</p>

              <p>
                w = angular frequency, radians/second sqrt(k/m) equals the
                period for a harmonic oscillator
              </p>
            </aside>

            <div class="org-src-container">
              <pre><code class="clojure" data-line-numbers="7|8">(defn L-harmonic
  "Returns a Lagrangian of a simple harmonic oscillator (mass-spring system).

  m is the mass and k is the spring constant used in Hooke's law."
  [m k]
  (fn [[_ q v]]
    (- (* 1/2 m (square v))
       (* 1/2 k (square q)))))
</code></pre>
            </div>

            <div class="org-src-container">
              <pre><code class="clojure" >(defn proposed-solution [t]
  (* 'a (cos (+ (* 'omega t) 'phi))))
</code></pre>
            </div>

            <div class="org-src-container">
              <pre><code class="clojure" >(let [L (L-harmonic 'm 'k)
      w proposed-solution]
  (tex$$
   (((Lagrange-equations L) w) 't)))
</code></pre>
            </div>

            <p>
              \[- a\,m\,{\omega}^{2}\,\cos\left(\omega\,t + \phi\right) +
              a\,k\,\cos\left(\omega\,t + \phi\right)\]
            </p>
          </section>
          <section>
            <aside class="notes">
              <p>
                Boom, we have F = ma, because F = ma has to be true. So we have
                Hooke's law here.
              </p>
            </aside>

            <div class="org-src-container">
              <pre><code class="clojure" >(let [L (L-harmonic 'm 'k)
      w (literal-function 'w)]
  (tex$$
   (((Lagrange-equations L) w) 't)))
</code></pre>
            </div>

            <p>\[k\,w\left(t\right) + m\,{D}^{2}w\left(t\right)\]</p>
          </section>
        </section>
        <section>
          <section id="slide-org98cad89">
            <h2 id="org98cad89">Clerk Demo</h2>
            <aside class="notes">
              <ul>
                <li>spring demo</li>
                <li>the physics examples</li>
                <li>function examples</li>
                <li>John video?</li>
                <li>
                  THE LIBRARY ITSELF is written
                  <ul>
                    <li>show autodiff, numerical methods</li>
                  </ul>
                </li>
                <li>the slides themselves have math generated by sicmutils</li>
                <li>Nextjournal environment</li>
                <li>Double Pendulum style essay&#x2026;</li>
                <li>
                  einstein's field equations, pre-load that into the system
                </li>
              </ul>

              <p>Then I'll show you another one that is just bonkers.</p>

              <ul>
                <li>
                  the library itself is written up as a series of computational
                  essays that render in the browser.
                </li>
              </ul>

              <p>SO, these "essays" are also little libraries!</p>

              <p>You can publish them as little "research papers"</p>
            </aside>

            <p>
              That was not very clear! So let's convince ourselves that that is
              true, by doing the spring demo in the browser.
            </p>
          </section>
        </section>
        <section>
          <section id="slide-org8cb691c">
            <h2 id="org8cb691c">Community</h2>
            <ul>
              <li>Sussman! Wisdom!</li>
              <li>Colin Smith, founded SICMUtils</li>
              <li>Mentat Collective: Brad Feld and John Underkoffler</li>
              <li>Clerk: Martin Kavalar, Jack Rusher, Nextjournal team</li>
              <li>SCI: Michiel Borkent (@borkdude)</li>
              <li>Mathbox: Chris Chudzicki, Steven Wittens</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-org304ae57">
            <h2 id="org304ae57">How to get involved? What's Next?</h2>
            <aside class="notes">
              <p>so why is this interesting?</p>

              <p>
                Basically we know the material is good — so how compelling AND
                SIMULTANEOUSLY USEFUL can we make the presentation? Fascinating
                all the way down! the workshop!
              </p>
            </aside>

            <ul>
              <li>Collaborative editing, simulation</li>
              <li>Full library as essays</li>
              <li>Steal the pieces!</li>
              <li>Build things like this!</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-orgacdf876">
            <h2 id="orgacdf876">Conclusion</h2>
            <p>
              Lisp, the computational fluid, is something eery and special. It’s
              not
              <i>everything</i>; remember, these are just models! But it’s a big
              deal.
            </p>

            <p>What are we going to do with it?</p>

            <p>
              the whole industry is so frothy, money, excitement, gleefully
              jettisoning the original values. Which is all great, of course,
              except it seems like it’s not
              <i>allowed</i> to go work on inspiring stuff, even though there is
              far more money.
            </p>

            <p>
              At the same time, what, we’re gonna change the world by working on
              developer tools?
            </p>
          </section>
        </section>
      </div>
    </div>
    <script src="../reveal.js/dist/reveal.js"></script>
    <script src="../reveal.js/plugin/notes/notes.js"></script>
    <script src="../reveal.js/plugin/highlight/highlight.js"></script>
    <script src="../reveal.js/plugin/search/search.js"></script>
    <script src="../reveal.js/plugin/zoom/zoom.js"></script>
    <script>
      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        slideNumber: "c",
        rollingLinks: false,
        keyboard: true,
        mouseWheel: false,
        fragmentInURL: false,
        hashOneBasedIndex: false,
        pdfSeparateFragments: true,
        overview: true,

        transition: "none",
        transitionSpeed: "default",

        // Plugins with reveal.js 4.x
        plugins: [RevealNotes, RevealHighlight, RevealSearch, RevealZoom],

        // Optional libraries used to extend reveal.js
        dependencies: [],
      });
    </script>
  </body>
</html>
