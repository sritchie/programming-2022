<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Lisp as Renaissance Workshop</title>
    <meta name="author" content="Sam Ritchie" />
    <style type="text/css">
      .underline {
        text-decoration: underline;
      }
    </style>
    <link rel="stylesheet" href="../reveal.js/dist/reveal.css" />

    <link
      rel="stylesheet"
      href="../reveal.js/dist/theme/solarized.css"
      id="theme"
    />
    <link rel="stylesheet" href="../reveal.js/plugin/highlight/zenburn.css" />
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <section id="slide-orgef28297">
            <h2 id="orgef28297">Lisp as Renaissance Workshop</h2>
            <aside class="notes">
              <p>Hi, I'm Sam! Been a lisper for many years</p>
            </aside>

            <p>A Lispy Tour through Mathematical Physics</p>

            <p>
              <a href="https://samritchie.io/">Sam Ritchie</a>, Mentat
              Collective
            </p>
          </section>
        </section>
        <section>
          <section id="slide-orgb695cdc">
            <h2 id="orgb695cdc">SICMUtils</h2>
            <aside class="notes">
              <ul>
                <li>talk is about this library I've been working on&#x2026;</li>
                <li>Clojure, CAS, many environments, these slides, for one</li>
                <li>lives everywhere</li>
              </ul>
            </aside>
          </section>
          <section>
            <aside class="notes">
              <ul>
                <li>small demo!</li>
                <li>Generic operations, tex</li>
                <li>more later</li>
              </ul>
            </aside>

            <div class="org-src-container">
              <pre><code class="clojure" >[(+ (sin 'x) 'x) (+ (sin 12) 2)]
</code></pre>
            </div>

            <pre class="example">
[(+ (sin x) x) 1.4634270819995652]

</pre
            >

            <div class="org-src-container">
              <pre><code class="clojure" >(tex$$
 (up (square (cos (* 't 'phi)))
     (floor (* 4 'zeta))))
</code></pre>
            </div>

            <p>
              \[\begin{pmatrix}\displaystyle{{\cos}^{2}\left(\phi\,t\right)} \cr
              \cr \displaystyle{\left\lfloor 4\,\zeta
              \right\rfloor}\end{pmatrix}\]
            </p>
          </section>
          <section>
            <aside class="notes">
              <p>autodiff, types, symbols actual code in the slides</p>
            </aside>

            <div class="org-src-container">
              <pre><code class="clojure" >(let [f (literal-function 'f (-&gt; (UP Real Real) Real))]
  (tex$$
   ((D f) (up 'alpha_1 'alpha_2))))
</code></pre>
            </div>

            <p>
              \[\begin{bmatrix}\displaystyle{\partial_0f\left(\begin{pmatrix}\displaystyle{{\alpha}_1}
              \cr \cr \displaystyle{{\alpha}_2}\end{pmatrix}\right)} \cr \cr
              \displaystyle{\partial_1f\left(\begin{pmatrix}\displaystyle{{\alpha}_1}
              \cr \cr
              \displaystyle{{\alpha}_2}\end{pmatrix}\right)}\end{bmatrix}\]
            </p>
          </section>
          <section id="slide-org9bdde3c">
            <h3 id="org9bdde3c">❤️ Open Source ❤️</h3>
            <aside class="notes">
              <p>lives online, same with these slides.</p>
            </aside>

            <p>
              <a href="https://github.com/sicmutils/sicmutils"
                >https://github.com/sicmutils/sicmutils</a
              >
            </p>
            <img width="100%" src="../images/sicmutils.png" />
            <p>
              <a href="https://github.com/sritchie/programming-2022"
                >https://github.com/sritchie/programming-2022</a
              >
            </p>
          </section>
        </section>
        <section>
          <section id="slide-org65f4308">
            <h2 id="org65f4308">Agenda</h2>
            <aside class="notes">
              <ul>
                <li>CODE can be a fantastic medium for communication.</li>
                <li>
                  Code is a medium to communicate. But it’s also a medium we use
                  to <i>build</i> systems.
                </li>
                <li>can perform itself!</li>
                <li>we get by fine, why does it matter?</li>
              </ul>
            </aside>

            <ul>
              <li>Why build another CAS?</li>
              <li>Code as Communication?</li>
              <li>Literate Systems (and their problems)</li>
              <li>Why it matters</li>
              <li>What to do? + SICMUtils</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-org6eabc67">
            <h2 id="org6eabc67">scmutils by GJS</h2>
            <aside class="notes">
              <ul>
                <li>Based on scmutils by GJS, co-creator of Scheme&#x2026;</li>
              </ul>
            </aside>

            <img class="r-stretch" src="../images/gjs.jpg" />
          </section>
          <section>
            <aside class="notes">
              <p>SICP quote, exciting for me.</p>
            </aside>
            <p>
              "<b>programs must be written for people to read</b>, and only
              incidentally for machines to execute."
            </p>

            <small
              >~ Hal Abelson, Structure and Interpretation of Computer
              Programs</small
            >
            <br /><img height="300px" src="../images/sicp.jpeg" />
          </section>
        </section>
        <section>
          <section id="slide-orgdabbb23">
            <h2 id="orgdabbb23">SICM and FDG</h2>
            <aside class="notes">
              <ul>
                <li>Followed up SICP with SICM and FDG.</li>
                <li>scmutils is the iceberg below this system.</li>
              </ul>
            </aside>

            <img height="500" src="../images/sicm.jpeg" />
            <img height="500" src="../images/fdg.jpeg" />
          </section>
        </section>
        <section>
          <section id="slide-org5466221">
            <h2 id="org5466221">Motivation, Google X</h2>
            <aside class="notes">
              <ul>
                <li>
                  Excited about Bret Victor's work, explorable explanations
                </li>
                <li>kill the PDF!</li>
                <li>reading all these RL research papers&#x2026;</li>
                <li>Port it to a browser-environment.</li>
              </ul>
            </aside>
          </section>
          <section id="slide-orgdf68528">
            <h3 id="orgdf68528">Disappointment @ X!</h3>
            <aside class="notes">
              <ul>
                <li>tools for thought championed outside!</li>
                <li>but people in ML labs really hate their tools</li>
                <li>no lab notebook! snippets in chat</li>
              </ul>

              <p>
                Thrashing around with python and build systems&#x2026; that is
                NOT what folks finding the deep principles behind QM were doing.
              </p>
            </aside>
          </section>
        </section>
        <section>
          <section id="slide-orgb6ab763">
            <h2 id="orgb6ab763">19th Century Scientific Communication</h2>
            <aside class="notes">
              <ul>
                <li>didn't used to be this way!</li>
              </ul>
            </aside>
          </section>
          <section id="slide-orgf5ea21b">
            <h3 id="orgf5ea21b">History of Vector Analysis</h3>
            <aside class="notes">
              <ul>
                <li>the battle for representations, lovely writing</li>
                <li>complex numbers</li>
                <li>Quaternions</li>
                <li>Clifford algebra</li>
              </ul>

              <p>Different than programming language battles, I think.</p>
            </aside>

            <img class="r-stretch" src="../images/vector_analysis.jpeg" />
          </section>
          <section>
            <aside class="notes">
              <p>Reminded me of this&#x2026;</p>
            </aside>
            <img class="r-stretch" src="../images/lisp_xkcd.jpeg" />
          </section>
        </section>
        <section>
          <section id="slide-org1bdd303">
            <h2 id="org1bdd303">Code as Communication</h2>
            <aside class="notes">
              <ul>
                <li>Code == medium to communicate</li>
                <li>also a medium we use to <i>build</i> systems</li>
                <li>
                  so it should have supercharged this demo ability&#x2026;
                  right?
                </li>
              </ul>
            </aside>
          </section>
          <section id="slide-org9b3b57a">
            <h3 id="org9b3b57a">Numerical Code as Communication?</h3>
            <aside class="notes">
              <ul>
                <li>
                  deep dive into numerical methods and here is what I've found.
                </li>
                <li>pick on this one function but representative</li>
              </ul>

              <p>Brent's algo for univariate minimization.</p>
            </aside>

            <p>
              "We personally like Brent's algorithm for univariate minimization,
              as found on pages 79-80 of his book 'Algorithms for Minimization
              Without Derivatives'. It is pretty reliable and pretty fast,
              <b>but we cannot explain how it works</b>."
            </p>

            <p>~ <code>scmutils</code>, <i>refman.txt</i></p>
          </section>
          <section id="slide-org656b64d">
            <h3 id="org656b64d">Brent's Book, 1973</h3>
            <aside class="notes">
              <p>
                Back to the
                <a href="https://maths-people.anu.edu.au/~brent/pub/pub011.html"
                  >original book</a
                >
                from 1973: "Algorithms for Minimization without Derivatives".
              </p>
            </aside>
            <img class="r-stretch" src="../images/brent.jpg" />
          </section>
          <section id="slide-org058506c">
            <h3 id="org058506c">FORTRAN: Numerical Recipes, 1986</h3>
            <aside class="notes">
              <p>
                1986!
                <a href="http://phys.uri.edu/nigh/NumRec/bookfpdf/f10-2.pdf"
                  >Numerical Recipes</a
                >, pretty good&#x2026; basically a port.
              </p>
            </aside>
            <img class="r-stretch" src="../images/numerical_recipes.jpg" />
          </section>
          <section id="slide-orgf4a965e">
            <h3 id="orgf4a965e">C++: Boost, 2006</h3>
            <aside class="notes">
              <p>Then Boost, C++, comes later, used now:</p>
              <ul>
                <li>golden ratio woah!</li>
                <li>comments</li>
              </ul>
            </aside>

            <div class="org-src-container">
              <pre><code class="cpp" data-line-numbers="18|37-41|47-52|56-60|90-98">template &lt;class F, class T&gt;
std::pair&lt;T, T&gt; brent_find_minima(F f, T min, T max, int bits, std::uintmax_t&amp; max_iter)
   noexcept(BOOST_MATH_IS_FLOAT(T) &amp;&amp; noexcept(std::declval&lt;F&gt;()(std::declval&lt;T&gt;())))
{
   BOOST_MATH_STD_USING
   bits = (std::min)(policies::digits&lt;T, policies::policy&lt;&gt; &gt;() / 2, bits);
   T tolerance = static_cast&lt;T&gt;(ldexp(1.0, 1-bits));
   T x;  // minima so far
   T w;  // second best point
   T v;  // previous value of w
   T u;  // most recent evaluation point
   T delta;  // The distance moved in the last step
   T delta2; // The distance moved in the step before last
   T fu, fv, fw, fx;  // function evaluations at u, v, w, x
   T mid; // midpoint of min and max
   T fract1, fract2;  // minimal relative movement in x

   static const T golden = 0.3819660f;  // golden ratio, don't need too much precision here!

   x = w = v = max;
   fw = fv = fx = f(x);
   delta2 = delta = 0;

   uintmax_t count = max_iter;

   do{
      // get midpoint
      mid = (min + max) / 2;
      // work out if we're done already:
      fract1 = tolerance * fabs(x) + tolerance / 4;
      fract2 = 2 * fract1;
      if(fabs(x - mid) &lt;= (fract2 - (max - min) / 2))
         break;

      if(fabs(delta2) &gt; fract1)
      {
         // try and construct a parabolic fit:
         T r = (x - w) * (fx - fv);
         T q = (x - v) * (fx - fw);
         T p = (x - v) * q - (x - w) * r;
         q = 2 * (q - r);
         if(q &gt; 0)
            p = -p;
         q = fabs(q);
         T td = delta2;
         delta2 = delta;
         // determine whether a parabolic step is acceptable or not:
         if((fabs(p) &gt;= fabs(q * td / 2)) || (p &lt;= q * (min - x)) || (p &gt;= q * (max - x)))
         {
            // nope, try golden section instead
            delta2 = (x &gt;= mid) ? min - x : max - x;
            delta = golden * delta2;
         }
         else
         {
            // whew, parabolic fit:
            delta = p / q;
            u = x + delta;
            if(((u - min) &lt; fract2) || ((max- u) &lt; fract2))
               delta = (mid - x) &lt; 0 ? (T)-fabs(fract1) : (T)fabs(fract1);
         }
      }
      else
      {
         // golden section:
         delta2 = (x &gt;= mid) ? min - x : max - x;
         delta = golden * delta2;
      }
      // update current position:
      u = (fabs(delta) &gt;= fract1) ? T(x + delta) : (delta &gt; 0 ? T(x + fabs(fract1)) : T(x - fabs(fract1)));
      fu = f(u);
      if(fu &lt;= fx)
      {
         // good new point is an improvement!
         // update brackets:
         if(u &gt;= x)
            min = x;
         else
            max = x;
         // update control points:
         v = w;
         w = x;
         x = u;
         fv = fw;
         fw = fx;
         fx = fu;
      }
      else
      {
         // Oh dear, point u is worse than what we have already,
         // even so it *must* be better than one of our endpoints:
         if(u &lt; x)
            min = u;
         else
            max = u;
         if((fu &lt;= fw) || (w == x))
         {
            // however it is at least second best:
            v = w;
            w = u;
            fv = fw;
            fw = fu;
         }
         else if((fu &lt;= fv) || (v == x) || (v == w))
         {
            // third best:
            v = u;
            fv = fu;
         }
      }

   }while(--count);

   max_iter -= count;

   return std::make_pair(x, fx);
}
</code></pre>
            </div>
          </section>
          <section id="slide-orga9f33c6">
            <h3 id="orga9f33c6">Python: Scipy, 2001</h3>
            <aside class="notes">
              <p></p>

              <ul>
                <li>
                  2001,
                  <a
                    href="https://github.com/scipy/scipy/blob/v1.5.4/scipy/optimize/optimize.py#L2078"
                    >python version</a
                  >
                  of Brent
                </li>
                <li>don't use this, whitespace off</li>
                <li>comments in odd places</li>
              </ul>
            </aside>

            <div class="org-src-container">
              <pre><code class="python" data-line-numbers="31-42">def optimize(self):
  # set up for optimization
  func = self.func
  xa, xb, xc, fa, fb, fc, funcalls = self.get_bracket_info()
  _mintol = self._mintol
  _cg = self._cg
  #################################
  #BEGIN CORE ALGORITHM
  #################################
  x = w = v = xb
  fw = fv = fx = func(*((x,) + self.args))
  if (xa &lt; xc):
    a = xa
    b = xc
  else:
    a = xc
    b = xa
    deltax = 0.0
    funcalls += 1
    iter = 0
  while (iter &lt; self.maxiter):
    tol1 = self.tol * np.abs(x) + _mintol
    tol2 = 2.0 * tol1
    xmid = 0.5 * (a + b)
    # check for convergence
    if np.abs(x - xmid) &lt; (tol2 - 0.5 * (b - a)):
      break
    # XXX In the first iteration, rat is only bound in the true case
    # of this conditional. This used to cause an UnboundLocalError
    # (gh-4140). It should be set before the if (but to what?).
    if (np.abs(deltax) &lt;= tol1):
      if (x &gt;= xmid):
        deltax = a - x       # do a golden section step
      else:
        deltax = b - x
        rat = _cg * deltax
    else:                              # do a parabolic step
      tmp1 = (x - w) * (fx - fv)
      tmp2 = (x - v) * (fx - fw)
      p = (x - v) * tmp2 - (x - w) * tmp1
      tmp2 = 2.0 * (tmp2 - tmp1)
      if (tmp2 &gt; 0.0):
        p = -p
        tmp2 = np.abs(tmp2)
        dx_temp = deltax
        deltax = rat
        # check parabolic fit
        if ((p &gt; tmp2 * (a - x)) and (p &lt; tmp2 * (b - x)) and
            (np.abs(p) &lt; np.abs(0.5 * tmp2 * dx_temp))):
          rat = p * 1.0 / tmp2        # if parabolic step is useful.
          u = x + rat
          if ((u - a) &lt; tol2 or (b - u) &lt; tol2):
            if xmid - x &gt;= 0:
              rat = tol1
            else:
              rat = -tol1
          else:
            if (x &gt;= xmid):
              deltax = a - x  # if it's not do a golden section step
            else:
              deltax = b - x
              rat = _cg * deltax

      if (np.abs(rat) &lt; tol1):            # update by at least tol1
        if rat &gt;= 0:
          u = x + tol1
        else:
          u = x - tol1
      else:
        u = x + rat
        fu = func(*((u,) + self.args))      # calculate new output value
        funcalls += 1

        if (fu &gt; fx):                 # if it's bigger than current
          if (u &lt; x):
            a = u
          else:
            b = u
          if (fu &lt;= fw) or (w == x):
            v = w
            w = u
            fv = fw
            fw = fu
          elif (fu &lt;= fv) or (v == x) or (v == w):
            v = u
            fv = fu
          else:
            if (u &gt;= x):
              a = x
            else:
              b = x
          v = w
          w = x
          x = u
          fv = fw
          fw = fx
          fx = fu

          iter += 1
 #################################
        #END CORE ALGORITHM
        #################################

        self.xmin = x
        self.fval = fx
        self.iter = iter
        self.funcalls = funcalls
</code></pre>
            </div>
          </section>
          <section id="slide-org43ed7e9">
            <h3 id="org43ed7e9">Scheme: 1987</h3>
            <aside class="notes">
              <p>Scheme? Sussman! Please!</p>
            </aside>

            <div class="org-src-container">
              <pre><code class="scheme" data-line-numbers="32-43">;;; Brent's algorithm for univariate minimization -- transcribed from
;;; pages 79-80 of his book "Algorithms for Minimization Without Derivatives"

(define (brent-min f a b eps)
  (let ((a (min a b)) (b (max a b))
	(maxcount 100)
	(small-bugger-factor *sqrt-machine-epsilon*)
	(g (/ (- 3 (sqrt 5)) 2))
	(d 0) (e 0) (old-e 0) (p 0) (q 0) (u 0) (fu 0))
    (let* ((x (+ a (* g (- b a))))
	   (fx (f x))
	   (w x) (fw fx) (v x) (fv fx))
      (let loop ((count 0))
	(if (&gt; count maxcount)
	    (list 'maxcount x fx count) ;failed to converge
	    (let* ((tol (+ (* eps (abs x)) small-bugger-factor))
		   (2tol (* 2 tol))
		   (m (/ (+ a b) 2)))
	      ;; test for convergence
	      (if (&lt; (max (- x a) (- b x)) 2tol)
		  (list x fx count)
		  (begin
		    (if (&gt; (abs e) tol)
			(let* ((t1 (* (- x w) (- fx fv)))
			       (t2 (* (- x v) (- fx fw)))
			       (t3 (- (* (- x v) t2) (* (- x w) t1)))
			       (t4 (* 2 (- t2 t1))))
			  (set! p (if (positive? t4) (- t3) t3))
			  (set! q (abs t4))
			  (set! old-e e)
			  (set! e d)))
		    (if (and (&lt; (abs p) (abs (* 0.5 q old-e)))
			     (&gt; p (* q (- a x)))
			     (&lt; p (* q (- b x))))
			;; parabolic step
			(begin (set! d (/ p q))
			       (set! u (+ x d))
			       (if (&lt; (min (- u a) (- b u)) 2tol)
				   (set! d (if (&lt; x m) tol (- tol)))))
			;;else, golden section step
			(begin (set! e (if (&lt; x m) (- b x) (- a x)))
			       (set! d (* g e))))
		    (set! u (+ x (if (&gt; (abs d) tol)
				     d
				     (if (positive? d) tol (- tol)))))
		    (set! fu (f u))
		    (if (&lt;= fu fx)
			(begin (if (&lt; u x) (set! b x) (set! a x))
			       (set! v w) (set! fv fw)
			       (set! w x) (set! fw fx)
			       (set! x u) (set! fx fu))
			(begin (if (&lt; u x) (set! a u) (set! b u))
			       (if (or (&lt;= fu fw) (= w x))
				   (begin (set! v w) (set! fv fw)
					  (set! w u) (set! fw fu))
				   (if (or (&lt;= fu fv) (= v x) (= v w))
				       (begin (set! v u) (set! fv fu))))))
		    (loop (+ count 1))))))))))
</code></pre>
            </div>
          </section>
          <section id="slide-org161e92c">
            <h3 id="org161e92c">Actual Core Idea</h3>
            <aside class="notes">
              <ul>
                <li>here is the idea</li>
                <li>image isn't tied to code! pic wrong!</li>
              </ul>

              <p>MEME from Clean Code&#x2026;</p>
            </aside>

            <img class="r-stretch" src="../images/brent_parabola.png" />
          </section>
          <section id="slide-org870d94c">
            <h3 id="org870d94c">So What?</h3>
            <aside class="notes">
              <ul>
                <li>all these methods are simple extensions of this!</li>
                <li>same with quadrature; huge gains from intuition</li>
                <li>huge TAX that we're paying</li>
              </ul>
            </aside>

            <ul>
              <li>What's wrong with this?</li>
              <li>How can we do better?</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-org432d55f">
            <h2 id="org432d55f">Existing Ideas</h2>
            <aside class="notes">
              <ul>
                <li>approaches to code performing itself</li>
              </ul>
            </aside>

            <ul>
              <li>Literate Programming</li>
              <li>LOGO's Microworlds</li>
              <li>Notebooks, Mathematica</li>
            </ul>
          </section>
          <section data-background="../images/knuth_literate.jpeg">
            <aside class="notes">
              <ul>
                <li>Literate programming!</li>
                <li>many good books like this</li>
              </ul>
            </aside>
          </section>
          <section id="slide-org30a01f6">
            <h3 id="org30a01f6">LOGO's Microworlds</h3>
            <aside class="notes">
              <ul>
                <li>Microworlds put you in the system!</li>
              </ul>
            </aside>

            <img class="r-stretch" src="../images/papert.jpeg" />
          </section>
          <section>
            <img class="r-stretch" src="../images/turtle_geometry.jpeg" />
          </section>
          <section id="slide-org492c909">
            <h3 id="org492c909">Notebooks, Mathematica</h3>
            <aside class="notes">
              <ul>
                <li>notebooks is a beautiful idea</li>
                <li>pioneered my mathematica</li>
              </ul>
            </aside>

            <img width="300" src="../images/mm_notebook.jpg" />
            <img width="300" src="../images/mathematica.svg" />
          </section>
        </section>
        <section>
          <section id="slide-org9c5f79e">
            <h2 id="org9c5f79e">Why aren't these working?</h2>
            <aside class="notes">
              <ul>
                <li>very hard to share the ENVIRONMENT</li>
                <li>hard to build a culture, 1 person thing</li>
                <li>sharing tools come from industry, not very creative</li>
                <li>science happens at the whiteboard!</li>
                <li>existing geared =&gt; presentation</li>
                <li>once it works we stop</li>
                <li>abstain from understanding</li>
                <li>so you lose all context</li>
                <li>no real work in notebooks</li>
              </ul>
            </aside>

            <ul>
              <li class="fragment grow">Literate Programming == one-way</li>
              <li class="fragment grow">Science is Multiplayer</li>
              <li class="fragment grow">Dynamic is Too Seductive</li>
              <li class="fragment grow">Real Work doesn't happen here</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-org38f4a83">
            <h2 id="org38f4a83">Why care?</h2>
            <aside class="notes">
              <ul>
                <li>crown jewels of society!</li>
                <li>long-term projects depend on transmission of culture</li>
                <li>
                  With current, harder material =&gt; specialization,
                  impressionistic
                </li>
              </ul>
            </aside>
          </section>
          <section id="slide-orgffd17a2">
            <h3 id="orgffd17a2">"Future of Education"</h3>
            <aside class="notes">
              <p>
                We're all quite good at this abstraction thing, but that's not
                normal!
              </p>
            </aside>

            <ul>
              <li>Mythic Understanding</li>
              <li>Romantic Understanding</li>
              <li><b>Philosophic Understanding</b></li>
              <li>Ironic Understanding</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-org3cf8e03">
            <h2 id="org3cf8e03">What to do?</h2>
            <aside class="notes">
              <ul>
                <li>I wanted to do something about this&#x2026;</li>
                <li>what to make?</li>
              </ul>
            </aside>
          </section>
          <section id="slide-org9470d89">
            <h3 id="org9470d89">SICM and FDG as clues</h3>
            <aside class="notes">
              <ul>
                <li>books paved the way</li>
                <li>hard narrative work is done, for these stories.</li>
                <li>SO: Browser based, Clojure, Lisp, build on sicm</li>
              </ul>
            </aside>

            <img height="500" src="../images/sicm.jpeg" />
            <img height="500" src="../images/fdg.jpeg" />
          </section>
          <section data-background="../images/nurse_log.jpeg">
            <aside class="notes">
              <ul>
                <li>textbook as Nurse Log, and library</li>
                <li>huge culture bundle</li>
                <li>exercises == invitation to publish</li>
              </ul>
            </aside>
          </section>
          <section id="slide-org8639c5d">
            <h3 id="org8639c5d">Explanation as Side Effect</h3>
            <aside class="notes">
              <ul>
                <li>dream environment: you play, explanation comes for free</li>
                <li>good evidence from Roam etc for text</li>
              </ul>
            </aside>
          </section>
        </section>
        <section>
          <section id="slide-org7ffdcf7">
            <h2 id="org7ffdcf7">Euler-Lagrange Equations</h2>
            <aside class="notes">
              <p>example of a beautiful thing, least action</p>
              <ul>
                <li>interesting == beautiful observation</li>
                <li>less interesting == symbol-pushing</li>
              </ul>
            </aside>

            <p>\[S[q](t_a, t_b) = D \int_{t_a}^{t_b} L(t, q(t), Dq(t)) dt\]</p>

            <p>\[D \int_{t_a}^{t_b} L(t, q(t), Dq(t)) dt = 0\]</p>
          </section>
          <section id="slide-org0116baa">
            <h3 id="org0116baa">Euler-Lagrange Equations</h3>
            <aside class="notes">
              <p>this is the result, usual form. anyone know the type?</p>
            </aside>

            <p data-fragment-index="2" class="fragment roll-in">
              "What could this expression possibly mean?"
            </p>

            <p>
              \[{\frac{d}{d t} \frac{\partial L}{\partial
              \dot{q}}}-\frac{\partial L}{\partial q}=0\]
            </p>
          </section>
          <section id="slide-orgff692f5">
            <h3 id="orgff692f5">Expand:</h3>
            <aside class="notes">
              <p>This is what is really going on.</p>
            </aside>

            <p>
              \[{\frac{d}{d t} \frac{\partial L}{\partial
              \dot{q}}}-\frac{\partial L}{\partial q}=0\]
            </p>

            <p class="fragment roll-in">
              \[\frac{d}{d t}\left( \left.\frac{\partial L(t, q,
              \dot{q})}{\partial \dot{q}} \right|_{\substack{ {q=w(t)} \\
              {\dot{q}=\frac{d w(t)}{d t}} }} \right)-\left.\frac{\partial L(t,
              q, \dot{q})}{\partial q}\right|_{ \substack{ q=w(t) \\
              {\dot{q}=\frac{d w(t)}{d t}}} }=0\]
            </p>
          </section>
          <section id="slide-orga2b0b79">
            <h3 id="orga2b0b79">Okay, Fine</h3>
            <aside class="notes">
              <ul>
                <li>fill in, replace with functional derivatives</li>
              </ul>
            </aside>

            <p>
              \[{\frac{d}{d t} \frac{\partial L}{\partial
              \dot{q}}}-\frac{\partial L}{\partial q}=0\]
            </p>

            <div>
              \begin{align*} \frac{d}{d t} \left( \right. & \left.
              \left(\partial_{2} L\right)\left(t, w(t), \frac{d}{d t}
              w(t)\right)\right) \\ - & \left(\partial_{1} L\right)\left(t,
              w(t), \frac{d}{d t} w(t)\right) = 0 \end{align*}
            </div>
          </section>
          <section id="slide-orgf5506b0">
            <h3 id="orgf5506b0">Substitutions</h3>
            <aside class="notes">
              <ul>
                <li>kill EXPRESSION derivative, replace again</li>
                <li>use Hamma since we can build from path</li>
              </ul>
            </aside>

            <p>\[(D f)(t)=\left.\frac{d}{d x} f(x)\right|_{x=t}\]</p>

            <p>\[\Gamma[w](t)=\left(t, w(t), \frac{d}{d t} w(t)\right)\]</p>
          </section>
          <section>
            <aside class="notes">
              <ul>
                <li>get the explicit <code>t</code> out of there</li>
                <li>functional derivative</li>
                <li>write as code!</li>
              </ul>
            </aside>

            <p>
              \[\frac{d}{dt}\left( \left(\partial_{2} L\right)
              \left(\Gamma[w](t)\right) \right) - \left(\partial_{1} L\right)
              \left(\Gamma[w](t)\right)=0\]
            </p>

            <p data-fragment-index="2" class="fragment roll-in">
              \[D\left(\left(\partial_{2} L\right) \circ
              \left(\Gamma[w]\right)\right) \\ -\left(\partial_{1} L\right)
              \circ \left(\Gamma[w]\right)=0\]
            </p>

            <div class="org-src-container">
              <pre
                data-fragment-index="3"
                class="fragment roll-in"
              ><code class="clojure" data-line-numbers="1|2-4">(defn Lagrange-equations [L]
  (fn [w]
    (- (D (comp ((partial 2) L) (Gamma w)))
       (comp ((partial 1) L) (Gamma w)))))
</code></pre>
            </div>
          </section>
          <section>
            <aside class="notes">
              <ul>
                <li>you can call this!</li>
                <li>general form, F = ma</li>
              </ul>
            </aside>

            <div class="org-src-container">
              <pre><code class="clojure" >(let [L (- (comp (literal-function 'T) velocity)
           (comp (literal-function 'V) coordinate))
      w (literal-function 'w)]
  (tex$$
   (((Lagrange-equations L) w) 't)))
</code></pre>
            </div>

            <p>
              \[{D}^{2}w\left(t\right)\,{D}^{2}T\left(Dw\left(t\right)\right) +
              DV\left(w\left(t\right)\right)\]
            </p>
          </section>
          <section id="slide-org40d690f">
            <h3 id="org40d690f">Simple Harmonic Motion</h3>
            <aside class="notes">
              <p>Specific example:</p>

              <p>
                w = angular frequency, radians/second sqrt(k/m) equals the
                period for a harmonic oscillator
              </p>
            </aside>

            <div class="org-src-container">
              <pre><code class="clojure" data-line-numbers="7|8">(defn L-harmonic
  "Returns a Lagrangian of a simple harmonic oscillator (mass-spring system).

  m is the mass and k is the spring constant used in Hooke's law."
  [m k]
  (fn [[_ q v]]
    (- (* 1/2 m (square v))
       (* 1/2 k (square q)))))
</code></pre>
            </div>

            <div class="org-src-container">
              <pre><code class="clojure" >(defn proposed-solution [t]
  (* 'a (cos (+ (* 'omega t) 'phi))))
</code></pre>
            </div>

            <div class="org-src-container">
              <pre><code class="clojure" >(let [L (L-harmonic 'm 'k)
      w proposed-solution]
  (tex$$
   (((Lagrange-equations L) w) 't)))
</code></pre>
            </div>

            <p>
              \[- a\,m\,{\omega}^{2}\,\cos\left(\omega\,t + \phi\right) +
              a\,k\,\cos\left(\omega\,t + \phi\right)\]
            </p>
          </section>
          <section id="slide-org57d8aff">
            <h3 id="org57d8aff">Hooke's Law</h3>
            <aside class="notes">
              <p>use literal function, get hooke's law:</p>
            </aside>

            <div class="org-src-container">
              <pre><code class="clojure" >(let [L (L-harmonic 'm 'k)
      w (literal-function 'w)]
  (tex$$
   (((Lagrange-equations L) w) 't)))
</code></pre>
            </div>

            <p>\[k\,w\left(t\right) + m\,{D}^{2}w\left(t\right)\]</p>
          </section>
        </section>
        <section>
          <section id="slide-orgb1cc11c">
            <h2 id="orgb1cc11c">Clerk Demo</h2>
            <aside class="notes">
              <ul>
                <li>spring first,</li>
                <li>the physics examples</li>
                <li>function examples</li>
                <li>the slides themselves have math generated by sicmutils</li>
                <li>Nextjournal environment</li>
                <li>Double Pendulum style essay&#x2026;</li>
                <li>
                  einstein's field equations, pre-load that into the system
                </li>
              </ul>

              <p>Then I'll show you another one that is just bonkers.</p>

              <ul>
                <li>
                  the library itself is written up as a series of computational
                  essays that render in the browser.
                </li>
              </ul>

              <p>SO, these "essays" are also little libraries!</p>

              <p>You can publish them as little "research papers"</p>
            </aside>

            <p>
              Let's convince ourselves that that is true, by doing the spring
              demo in the browser.
            </p>
          </section>
        </section>
        <section>
          <section id="slide-org3bf32c1">
            <h2 id="org3bf32c1">Community</h2>
            <ul>
              <li>Sussman et. al.</li>
              <li>Colin Smith</li>
              <li>Clerk: Martin Kavalar, Jack Rusher, Nextjournal team</li>
              <li>SCI: Michiel Borkent (@borkdude)</li>
              <li>Mathbox: Chris Chudzicki, Steven Wittens</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-orgfd07918">
            <h2 id="orgfd07918">How to get involved? What's Next?</h2>
            <aside class="notes">
              <p>so why is this interesting?</p>

              <ul>
                <li>
                  Lisp, the computational fluid, is something eery and special
                </li>
                <li>What are we going to do with it?</li>
              </ul>
            </aside>

            <ul>
              <li>SICM and FDG: Executable Textbooks</li>
              <li>Full library as essays</li>
              <li>Collaborative editing, simulation</li>
              <li>Please Steal!</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="slide-orgefa1d83">
            <h2 id="orgefa1d83">Thanks!</h2>
            <aside class="notes">
              <p>questions?</p>
            </aside>

            <p>Sam Ritchie, Mentat Collective</p>

            <p>
              <a href="https://twitter.com/sritchie">@sritchie</a>
            </p>

            <p>
              Slides, Demos live at
              <a href="https://github.com/sritchie/programming-2022"
                >https://github.com/sritchie/programming-2022</a
              >
            </p>
          </section>
        </section>
      </div>
    </div>
    <script src="../reveal.js/dist/reveal.js"></script>
    <script src="../reveal.js/plugin/notes/notes.js"></script>
    <script src="../reveal.js/plugin/highlight/highlight.js"></script>
    <script src="../reveal.js/plugin/search/search.js"></script>
    <script src="../reveal.js/plugin/zoom/zoom.js"></script>
    <script>
      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        slideNumber: "c",
        rollingLinks: false,
        keyboard: true,
        mouseWheel: false,
        fragmentInURL: false,
        hashOneBasedIndex: false,
        pdfSeparateFragments: true,
        overview: true,

        transition: "none",
        transitionSpeed: "default",

        // Plugins with reveal.js 4.x
        plugins: [RevealNotes, RevealHighlight, RevealSearch, RevealZoom],

        // Optional libraries used to extend reveal.js
        dependencies: [],
      });
    </script>
  </body>
</html>
